{% extends "base.html" %}
{% block title %} 商品详细 {% endblock %}
{% block content %}





<!-- //网站头部 -->
<div id="mr-mainbody" class="container mr-mainbody">

    <button type="button" onclick="window.location.href='{% url 'display' %}';">继续购物</button><br>
    <div class="row" style="margin-top:50px" align="center">
        <!-- 页面主体内容 -->

            {% if messages %}
              {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                  <strong>{{ message }}</strong>
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              {% endfor %}
            {% endif %}

        <div id="mr-content"
            class="mr-content col-xs-12 col-sm-12 col-md-9 col-md-push-3">
            <div id="mrshop" class="mrshop common-home">
                <div class="container_oc">
                    <div class="row">
                        <div id="content_oc" class="col-sm-12 view-product">
                            <!-- 根据商品ID获取并显示商品信息 -->

<!-- 显示商品详细信息 -->
    <div class="row">
        <div class="col-xs-12 col-md-4 col-sm-4">
            <ul class="thumbnails" style="list-style: none">
                <li><a class="thumbnail" href="#">
                    <img src="/static/images/{{goods.id}}.png" width="100" height="100"
                    onerror="this.onerror=null; this.src='/static/images/default.png'; ">
                </a>
                </li>
            </ul>
        </div>
        <div class="col-xs-12 col-md-8 col-sm-8">
            <div style="margin-left: 30px; margin-top: 20px">
                <h1 class="product-title">{{goods.name}}</h1>
                <ul class="original-price"><li>原价: {{goods.original_price}}元</li></ul>
                <ul class="list-unstyled price"><li><h2>现价{{goods.current_price}}元</h2></li></ul>

                <div class="rating"><p>商城活动：全场满99包邮</p></div>
                <div id="product"><hr>
                    <div class="form-group">
                        <label class="control-label" for="shuliang"> 数量 </label>
                        <input type="number" name="quantity" value="1" size="2"
                            id="shuliang" class="form-control"> <br>
                        <div class="btn-group">
                            <button type="button" onclick="addCart()" class="btn btn-primary btn-primary">
                                <i class="fa fa-shopping-cart"></i> 添加到购物车</button>
                            <button type="button" id="button-wishlist" data-toggle="tooltip" class="btn"
                             title="收藏" data-original-title="收藏"> <i class="fa fa-heart"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 description_oc clearfix">
            <ul class="nav nav-tabs htabs">
                <li class="active" style="width: 150px"><a href="#tab-description" data-toggle="tab"
                    aria-expanded="true">商品描述</a></li>
            </ul>
            <div class="tab-content" style="border: 1px solid #eee; overflow: hidden;">
                <div class="tab-pane active" id="tab-description">
                    {{goods.name}}
                </div>
            </div>
        </div>
    </div>
<!-- //显示商品详细信息 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>







<script type="text/javascript">
function addCart() {
    var goods_id = {{ goods.id}};
    var number = $('#shuliang').val(); // 获取输入的商品数量

    // 验证输入的数量是否合法
    if (number < 1) { // 如果输入的数量不合法
        alert('数量不能小于1！');
        return;
    }

    // 构建跳转的URL
    window.location.href = '/cart_add?goods_id=' + goods_id + '&number=' + number;
}
</script>





{% endblock %}

